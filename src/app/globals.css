@import url("https://rsms.me/inter/inter.css");

@tailwind base;
@tailwind components;
@tailwind utilities;
 
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 220.9 39.3% 11%;
    --primary-foreground: 210 20% 98%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 220 14.3% 95.9%;
    --accent-foreground: 220.9 39.3% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 20% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 224 71.4% 4.1%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 210 20% 98%;
    --primary-foreground: 220.9 39.3% 11%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 216 12.2% 83.9%;
  }
}
 
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
  html, body, #__next { overflow-x: hidden; }

  body {
    /* Use HSL values from the theme for gradients */
    background: radial-gradient(at top left, hsl(var(--primary) / 0.2) 0%, transparent 60%), 
                radial-gradient(circle at 20% 0%, hsl(var(--accent)) 0%, transparent 45%), /* Adjusted to use accent from theme */
                radial-gradient(circle at 80% 10%, hsl(var(--secondary)) 0%, transparent 40%), /* Adjusted to use secondary */
                radial-gradient(circle at 50% 120%, hsl(var(--accent)) 0%, transparent 50%); /* Adjusted to use accent */
    font-family: var(--font-geist-sans), 'InterVariable', sans-serif;
    line-height: 1.5;
  }
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  button:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
  .card-hover {
    @apply transition-transform duration-150 hover:-translate-y-1 hover:shadow-lg;
  }
  h1,h2,h3,h4,h5,h6 { @apply font-semibold text-foreground; } /* Use theme foreground color */
  .bg-glass {
    backdrop-filter: blur(12px) saturate(180%);
    background: hsl(var(--card) / 0.6); /* Use card color with opacity */
    box-shadow: 0 8px 32px hsla(var(--foreground) / 0.12); /* Use foreground with opacity for shadow */
  }
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { @apply bg-transparent; }
  ::-webkit-scrollbar-thumb { @apply bg-muted-foreground/50 hover:bg-muted-foreground/70 rounded-lg transition-colors duration-200; } /* Use muted foreground */
  
  .motion-fade {
    opacity: 0;
  }
  .motion-fade[data-visible="true"] {
    opacity: 1;
    transition: opacity .4s cubic-bezier(.16,1,.3,1);
  }
}

@layer utilities {
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-up      { animation: fadeUp .45s cubic-bezier(.16,1,.3,1) both; }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in      { animation: fadeIn 0.5s ease-out forwards; }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  button:focus-visible, a:focus-visible { @apply ring-2 ring-offset-2 ring-primary; }
  
  .card-content {
    @apply px-4 py-3 !important; /* Keep if essential, otherwise review use of !important */
  }

  .category-grid, .document-grid { 
    @apply grid gap-3; 
  }

  /* Step Card Styling */
  .step-card { 
    @apply p-4 bg-card rounded-lg shadow-lg border border-border; 
  }
  .step-card__header { 
    @apply mb-4 flex items-start space-x-3; 
  }
  .step-card__icon { 
    @apply h-7 w-7 text-primary shrink-0 mt-1; 
  }
  .step-card__title { 
    @apply text-xl font-semibold text-foreground; 
  }
  .step-card__subtitle { 
    @apply text-base text-muted-foreground; 
  }
  .step-card select, 
  .step-card input[type="text"], 
  .step-card input[type="search"] { 
    @apply w-full box-border mb-4 bg-background border-input placeholder:text-muted-foreground text-foreground; 
  }

  /* Category and Document Card Styling */
  .category-card, .document-card { 
    @apply p-4 border border-border rounded-md shadow-sm text-center flex flex-col items-center justify-center bg-card text-card-foreground;
    min-height: 56px; 
    font-size: 1rem; 
  }
  .category-card:active, .document-card:active { 
    @apply scale-95 transition-transform duration-100 ease-out; 
  }
  @media (hover:hover) {
    .category-card:hover, .document-card:hover { 
      @apply shadow-md border-primary/50; 
    }
  }

  /* Responsive Grid Adjustments from previous commit */
  @media (max-width: 639px) {
    .category-grid, .document-grid { grid-template-columns: 1fr; }
  }
  @media (min-width: 640px) and (max-width: 1023px) {
    .category-grid, .document-grid { grid-template-columns: repeat(2,1fr); }
  }
  @media (min-width: 1024px) {
    /* Example: 3 columns for category, 3 for document on desktop */
    .category-grid { grid-template-columns: repeat(3,1fr); } 
    .document-grid { grid-template-columns: repeat(3,1fr); }
  }

  /* Stepper styles from previous commit */
  .stepper {
    @apply sticky top-0 bg-background z-20 py-2 flex justify-between items-center px-2 border-b border-border shadow-sm;
    /* Ensure stepper uses background color for light/dark mode */
  }
  .stepper__item {
    @apply flex-1 text-center; /* Basic styling, can be enhanced */
  }
  .stepper__item--active .stepper__label,
  .stepper__item--active .stepper__number {
    @apply text-primary font-semibold;
  }
  .stepper__item--complete .stepper__label,
  .stepper__item--complete .stepper__number {
    @apply text-green-600; /* Or use a theme color like accent-foreground */
  }
  .stepper__number {
    @apply block mx-auto h-8 w-8 rounded-full border-2 flex items-center justify-center mb-1;
    /* Dynamic border/bg in component */
  }
  .stepper__label {
    @apply text-xs;
  }
  .progress-bar {
    @apply flex-1 mx-4 bg-muted h-1 rounded overflow-hidden sm:hidden; /* Show only on mobile */
  }
  .progress-bar > div {
     @apply bg-primary h-full transition-all duration-300;
  }


  /* Step Content Padding */
  .step-content {
    @apply p-4; /* Default padding for mobile */
  }
  @media (min-width: 640px) {
    .step-content { @apply p-6; } /* Larger padding for tablet and up */
  }

}

/* Specific styling for Stepper based on ProgressStepper.tsx requirements */
@layer components {
  .stepper {
    @apply w-full;
  }

  .stepper__item {
    @apply relative flex flex-col items-center;
    /* Horizontal line connection will be handled by ::after or border trick in JSX if needed */
  }

  .stepper__number {
    /* Base styles for the circle are applied in ProgressStepper.tsx via cn() */
    /* No specific CSS needed here unless overriding those dynamic classes */
  }

  .stepper__label {
    /* Styles for labels are applied in ProgressStepper.tsx via cn() */
  }

  /* Mobile progress bar - ensure it's part of stepper or handled in ProgressStepper.tsx */
  .progress-bar {
    @apply block sm:hidden h-1 bg-muted rounded-full overflow-hidden;
  }
  .progress-bar > div {
    @apply bg-primary h-full transition-all;
  }

  /* New Stepper Styles */
  .step-circle {
    @apply flex items-center justify-center h-8 w-8 rounded-full border-2 border-border;
  }
  .stepper li.active .step-circle, /* More specific selector if needed */
  .stepper__item--active .step-circle { /* if ProgressSteps uses this class */
    @apply bg-primary text-primary-foreground border-primary;
  }
  .stepper li.completed .step-circle, /* Example for completed */
  .stepper__item--complete .step-circle {
     @apply bg-green-600 text-white border-green-600;
  }

  .step-caption {
    @apply text-xs md:text-sm mt-1 max-w-[5rem] leading-tight text-center; /* Added text-center */
  }
  
  @media (max-width: 520px) {
    .step-caption {
      @apply hidden; /* Tailwind class to hide */
    }
  }
}

